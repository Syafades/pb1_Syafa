<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Belajar Animasi Warna</title>
</head>

<body>
    <h3>Belajar Animasi Warna</h3>
    <p id="text1"></p>
    <p id="text2"></p>
    <p id="text3"></p>

    <script>
        let text = `Lorem ipsum dolor sit amet consectetur adipisicing elit.
        Quo quaerat recusandae qui ullam eaque cumque ea fugit,
        debitis commodi ipsum illo dolorum consequatur sed laudantium suscipit quis magni,
        maiores in?`
        let check = /Lorem/;

        if (check.test(text)) {
            //jalanin animasi
            console.log("Text Valid");
            animasi();
        } else {
            console.log("Tidak Valid");
        }

        //   function animasi
        function animasi() {
            // set interval
            // set timeout
            let text1 = document.getElementById("text1");
            let text2 = document.getElementById("text2");
            let text3 = document.getElementById("text3");

            let body1 = document.getElementById("text1");
            let body2 = document.getElementById("text2");
            let body3 = document.getElementById("text3");

            let warna = ["red", "green", "blue", "yellow", "black", "purple"];

            function setRandomColor(element) {
                let randomWarna = warna[Math.floor(Math.random() * warna.length)];
                element.style.color = randomWarna;
            }
            function setRandomBgColor(element) {
                let randomWarna = warna[Math.floor(Math.random() * warna.length)];
                element.style.backgroundColor = randomWarna;
            }

            function resetColor() {
                text1.style.color = "black";
                text2.style.color = "black";
                text3.style.color = "black";

                body1.style.backgroundColor = "white";
                body2.style.backgroundColor = "white";
                body3.style.backgroundColor = "white";
            }

            function startAnimation() {
                text1.innerHTML = text;
                text2.innerHTML = text;
                text3.innerHTML = text;

                setInterval(() => {
                    setRandomColor(text1);
                    setRandomColor(text2);
                    setRandomColor(text3);

                    setRandomBgColor(body1);
                    setRandomBgColor(body2);
                    setRandomBgColor(body3);
                }, 1000);

                setTimeout(() => {
                    resetColor();
                }, 5000);
            }

            startAnimation();
        }
    </script>
</body>

</html>